{"version":3,"sources":["../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/providers/auth/auth.ts","../../src/providers/user/user.ts","../../src/providers/chat/chat.ts","../../src/providers/message/message.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/providers/base/base.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 180;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 180\n// module chunks = 4","var map = {\n\t\"../pages/chat/chat.module\": [\n\t\t692,\n\t\t1\n\t],\n\t\"../pages/home/home.module\": [\n\t\t693,\n\t\t0\n\t],\n\t\"../pages/signin/signin.module\": [\n\t\t694,\n\t\t3\n\t],\n\t\"../pages/signup/signup.module\": [\n\t\t695,\n\t\t2\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 284;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 284\n// module chunks = 4","import { Observable } from 'rxjs/Observable';\n//import { AngularFireAuth,AngularFireAuthModule, FirebaseAuthStateObservable } from 'angularfire2/auth';\nimport { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/first';\n/*import * as firebase from 'firebase/app';\n\n\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule, AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database';\n*/\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport * as firebase from 'firebase/app';\nimport { BaseProvider } from \"../base/base\";\n\n\n  \n@Injectable()\nexport class AuthProvider extends BaseProvider{\n  user: Observable<firebase.User>;\n  constructor(public http: Http,\n              private firebaseAuth: AngularFireAuth\n             ) {\n              super();\n   this.user = firebaseAuth.authState;\n    console.log('Hello AuthProvider Provider');\n    \n  }\n  createAuthUser(user:{email:string, password:string}):  firebase.Promise<firebase.User>\n  {    \n    return this.firebaseAuth.auth.createUserWithEmailAndPassword(user.email, user.password)\n    .catch(this.handlePromiseError);\n  }\n\n  signinWithEmail(user:{email:string, password:string}):firebase.Promise<boolean>{\n    return this.firebaseAuth.auth.signInWithEmailAndPassword(user.email, user.password)\n    .then((authState)=>{\n        return authState!=null;\n    })\n    .catch(this.handlePromiseError);\n  }\n\n  logout():firebase.Promise<any>{\n     return this.firebaseAuth.auth.signOut();\n  }\n\n  get autenticated(): Promise<boolean>{\n    return new Promise((resolve,reject)=>{\n      this.firebaseAuth.authState\n      .first()\n      .subscribe((authState)=>{\n        (authState) ? resolve(true) : reject(false);\n        \n      })\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth/auth.ts","import { AngularFireAuth } from 'angularfire2/auth';\nimport { Observable } from 'rxjs/Observable';\nimport { User } from './../../models/user';\nimport { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { AngularFireDatabase, FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2/database';\n\nimport * as firebase from 'firebase/app';\nimport { BaseProvider } from \"../base/base\";\n\n\n\n@Injectable()\nexport class UserProvider extends BaseProvider {\n\n  users: FirebaseListObservable<User[]>;\n  currentUser: FirebaseObjectObservable<User>;\n  constructor(public db: AngularFireDatabase,\n              private firebaseAuth: AngularFireAuth,\n    public http: Http) {\n    super();\n    console.log('Hello UserProvider Provider');\n    //this.users = this.db.list(`/users`);\n    this.listenAuthState();\n    console.log(this.users);\n  }\n\n  private setUsers(uidToExclude:string){\n    this.users = <FirebaseListObservable<User[]>> this.db.list(`/users`,{\n      query:{\n        orderByChild:'name'\n      }\n    }).map((users:User[])=>{\n      console.log('***usuarios',users);\n      return users.filter((user:User)=>user.$key !== uidToExclude);\n    });\n\n  }\n  private listenAuthState():void{\n    this.firebaseAuth.authState\n    .subscribe((authState)=>{\n      if (authState){\n        this.currentUser = this.db.object(`/users/${authState.uid}`);\n        \n        this.setUsers(authState.uid);\n      }\n    });\n  }\n  create(user: User, uuid:string): firebase.Promise<any> {\n    //return this.users.push(user);      \n    return this.db.object(`/users/${uuid}`)\n      .set(user)\n      .catch(this.handlePromiseError);\n  }\n  userExists(userName:string):Observable<boolean>{\n     return this.db.list(`/users`,{\n      query:{\n        orderByChild:'username',\n        equalTo: userName\n      }\n    }).map((users:User[])=>{\n      return users.length>0;\n    }).catch(this.handleObservableError);\n  }\n\n  get(userId:string):FirebaseListObservable<User>{\n    return <FirebaseListObservable<User>>this.db.object(`/users/${userId}`)\n    .catch(this.handleObservableError);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user/user.ts","import { AngularFireAuth } from 'angularfire2/auth';\nimport { AngularFireDatabase, FirebaseObjectObservable, FirebaseListObservable } from 'angularfire2/database';\nimport { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { BaseProvider } from \"../base/base\";\nimport { Chat } from './../../models/chat';\nimport * as firebase from 'firebase/app';\n\n@Injectable()\nexport class ChatProvider extends BaseProvider{\n  \n  chats: FirebaseListObservable<Chat[]>;\n  \n  constructor(public http: Http,\n              public db: AngularFireDatabase,\n              public firebaseAuth: AngularFireAuth) {\n    super();\n    this.listenChats();\n  }\n  private listenChats():void{\n    this.firebaseAuth.authState\n    .subscribe((authState)=>{\n      if (authState){\n        this.setChats(authState);\n      }\n    });\n  }\n  \n  private setChats(authState):void{\n    console.log('set chats chamado');\n            \n        this.chats= <FirebaseListObservable<Chat[]>>this.db.list(`/chats/${authState.uid}`,{      \n          query:{\n            orderByChild:'timestamp'\n          }\n        }).map((chats:Chat[])=>{          \n          //console.log('****chats',chats);\n          return chats.reverse();\n          \n          //return chats;                    \n        }).catch(this.handleObservableError);\n       \n\n    \n  }\n  create(chat: Chat, userId1:string, userId2:string):firebase.Promise<void>{\n    return this.db.object(`/chats/${userId1}/${userId2}`)\n    .set(chat)\n    .catch(this.handlePromiseError);\n  }\n  getDeepChat(userId1:string, userId2:string):FirebaseObjectObservable<Chat>{\n    return this.db.object(`/chats/${userId1}/${userId2}`);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/chat/chat.ts","import { Message } from './../../models/message';\nimport { FirebaseListObservable, AngularFireDatabase } from 'angularfire2/database';\nimport { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { BaseProvider } from \"../base/base\";\n\n@Injectable()\nexport class MessageProvider extends BaseProvider {\n\n  constructor(public http: Http,\n    public db: AngularFireDatabase) {\n    super();\n  }\n\n  getMessages(userId1:string, userId2:string):FirebaseListObservable<Message[]>{\n    return <FirebaseListObservable<Message[]>> this.db.list(`/messages/${userId1}-${userId2}`,{\n      query:{\n        orderByChild: 'timestamp',\n        limitToLast: 30\n      }\n    })\n    .catch(this.handleObservableError)\n  }\n  create(message: Message,listMessages:FirebaseListObservable<Message[]>):firebase.Promise<void>{\n    return listMessages.push(message)\n    .catch(this.handlePromiseError);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/message/message.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","//import { SigninPage } from './../pages/signin/signin';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { UserProvider } from './../providers/user/user';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\n\nimport { MyApp } from './app.component';\n//import { HomePage } from '../pages/home/home';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { AngularFireModule, FirebaseAppConfig } from 'angularfire2';\nimport { HttpModule } from '@angular/http';\nimport { AuthProvider } from '../providers/auth/auth';\nimport { ChatProvider } from '../providers/chat/chat';\nimport { MessageProvider } from '../providers/message/message';\n//import { BaseProvider } from '../providers/base/base';\n\n\nconst firebaseAppConfig: FirebaseAppConfig = {\n  apiKey: \"AIzaSyDQSg4d1kNlOsoM6XBMLdOq9pMF1PjzJsg\",\n  authDomain: \"app-chat-real-time.firebaseapp.com\",\n  databaseURL: \"https://app-chat-real-time.firebaseio.com\",\n  projectId: \"app-chat-real-time\",\n  storageBucket: \"app-chat-real-time.appspot.com\",\n  messagingSenderId: \"886167588850\" \n};\n\n\n\n@NgModule({\n  declarations: [\n    MyApp    \n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    IonicModule.forRoot(MyApp, {}, \n{\n  links: [\n    { loadChildren: '../pages/chat/chat.module#ChatPageModule', name: 'ChatPage', segment: 'chat', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/home/home.module#SigninPageModule', name: 'HomePage', segment: 'home', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/signin/signin.module#SigninPageModule', name: 'SigninPage', segment: 'signin', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/signup/signup.module#SignupPageModule', name: 'SignupPage', segment: 'signup', priority: 'low', defaultHistory: [] }\n  ]\n}),\n    AngularFireModule.initializeApp(firebaseAppConfig),\n    AngularFireDatabaseModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp//,\n   // HomePage,\n   // SigninPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}, \n    UserProvider,\n    AuthProvider,\n    AngularFireAuth,\n    ChatProvider,\n    MessageProvider//,\n    //BaseProvider   \n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","//import { SigninPage } from './../pages/signin/signin';\nimport { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\n//import { HomePage } from '../pages/home/home';\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = 'SigninPage';\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Response } from '@angular/http';\nimport { Observable } from 'rxjs';\n\nconst extractError = (error: Response | any): string => {\n  // In a real world app, we might use a remote logging infrastructure\n  let errMsg: string;\n  if (error instanceof Response) {\n      const body = error.json() || '';\n      const err = body.error || JSON.stringify(body);\n      errMsg = `${error.status} - ${error.statusText || ''} ${err}`;\n  } else {\n      errMsg = error.message ? error.message : error.toString();\n  }\n  console.error(errMsg);\n\n  return errMsg;\n}\n\nexport abstract class BaseProvider {\n\n    protected handlePromiseError(error: Response | any): Promise<any> {\n        return Promise.reject(extractError(error));\n    }\n\n    protected handleObservableError(error: Response | any): Observable<any> {\n        return Observable.throw(extractError(error));\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/base/base.ts"],"sourceRoot":""}